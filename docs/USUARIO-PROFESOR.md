# Manual del Profesor - Studia

Guía completa para profesores sobre cómo usar la aplicación Studia.

## Introducción

Studia es una aplicación web diseñada para ayudar a profesores a gestionar el estudio musical de sus estudiantes. Te permite crear asignaciones, revisar el progreso de tus estudiantes y proporcionar feedback semanal.

## Acceso a la Aplicación

### Iniciar Sesión

1. Accede a la URL de la aplicación (proporcionada por el administrador)
2. Introduce tu email y contraseña
3. Haz clic en "Iniciar sesión"

### Recuperar Contraseña

Si olvidaste tu contraseña:

1. Haz clic en "¿Olvidaste tu contraseña?" en la página de login
2. Introduce tu email
3. Recibirás un enlace para restablecer tu contraseña por correo electrónico

### Cambiar Contraseña

Para cambiar tu contraseña una vez dentro de la aplicación:

1. Haz clic en tu nombre/avatar en el menú lateral (parte inferior)
2. Se abrirá el panel de perfil
3. En la sección "Contraseña", haz clic en "Enviar enlace de cambio de contraseña"
4. Recibirás un correo con un enlace para establecer una nueva contraseña

## Asignaciones

La página **Asignaciones** es tu punto central para gestionar todas las asignaciones de tus estudiantes.

### Vista General

En la parte superior verás:
- **Selector de semana**: Navega entre semanas usando los botones `<`, **Hoy**, `>`
- **Barra de búsqueda**: Busca asignaciones por nombre de pieza, plan o estudiante
- **Filtros**: Filtra por estado (Todos, Borrador, Publicada, Archivada) y profesores

### Crear Nueva Asignación

1. Haz clic en el botón **"Nueva asignación"** o presiona `Ctrl + N` (Mac: `⌘ + N`)
2. Se abrirá un formulario donde deberás completar:
   - **Estudiante**: Selecciona el estudiante al que vas a asignar la práctica
   - **Pieza**: Selecciona la pieza musical
   - **Plan**: Selecciona el plan de estudio asociado a la pieza
   - **Semana de inicio**: Selecciona la fecha de inicio (debe ser un lunes)
   - **Foco**: Selecciona el foco principal (GEN, LIG, RIT, ART, S&A)
   - **Notas**: Añade notas opcionales para el estudiante
3. Haz clic en **"Crear asignación"**

**Nota**: La asignación se crea en estado "Borrador" por defecto. Debes publicarla para que el estudiante la vea.

### Estados de Asignación

Las asignaciones pueden estar en tres estados:

- **Borrador**: Solo visible para profesores. El estudiante no la ve aún
- **Publicada**: Visible para el estudiante. Puede comenzar a practicar
- **Archivada**: Ya no visible para el estudiante. Mantiene el historial

### Publicar una Asignación

1. Localiza la asignación que quieres publicar
2. Haz clic en el menú de acciones (⋮) junto a la asignación
3. Selecciona "Publicar" o "Editar" y cambia el estado a "Publicada"

### Filtrar Asignaciones

Puedes filtrar asignaciones por:

- **Estado**: Todos, Borrador, Publicada, Archivada
- **Profesor**: Filtra por profesor asignado (útil si eres admin y ves asignaciones de otros profesores)
- **Semana**: Usa el selector de semana en la parte superior
- **Búsqueda**: Escribe en el campo de búsqueda para filtrar por nombre de pieza, plan o estudiante

### Ver Detalle de Asignación

Haz clic en cualquier asignación para ver sus detalles completos:
- Información del estudiante
- Pieza y plan asignados
- Semanas del plan con indicador de progreso
- Estado actual
- Sesiones completadas y pendientes

### Editar o Eliminar Asignación

1. Haz clic en el menú de acciones (⋮) junto a la asignación
2. Selecciona "Editar" o "Eliminar"
3. Confirma la acción si es necesario

## Agenda Semanal

La página **Agenda** te permite ver el progreso de tus estudiantes semana por semana.

### Vista por Semana

1. Usa el selector de semana en la parte superior para navegar entre semanas
2. Verás una lista de todos tus estudiantes con:
   - **Asignación activa**: Si el estudiante tiene una asignación activa para esa semana
   - **Semana actual del plan**: Indica en qué semana del plan se encuentra (ej: "Semana 3 de 8")
   - **Plan asignado**: Nombre del plan que está siguiendo
   - **Sesiones completadas**: Indicador de qué sesiones ha completado

### Búsqueda de Estudiantes

Usa la barra de búsqueda en la parte superior para filtrar estudiantes por nombre o email.

### Ver Detalle del Estudiante

Haz clic en un estudiante para expandir su información y ver:
- **Asignación activa**: Detalle completo de la asignación actual
- **Sesiones de la semana**: Lista de todas las sesiones programadas para esa semana
- **Estado de cada sesión**: Si está completada, pendiente o en progreso
- **Feedback previo**: Feedback que le has dado en semanas anteriores

### Dar Feedback Semanal

Para proporcionar feedback semanal a un estudiante:

1. Navega a la semana correspondiente usando el selector de semana
2. Localiza el estudiante en la lista
3. Haz clic en el botón **"Ver feedback"** o en el icono de mensaje junto al estudiante
4. Se abrirá un panel lateral donde puedes:
   - **Escribir observaciones**: Comentarios sobre el progreso del estudiante
   - **Añadir enlaces multimedia**: Enlaces a audios, videos o PDFs (ej: grabaciones del estudiante, material de referencia)
5. Haz clic en **"Guardar feedback"** o presiona `Ctrl + Enter` (Mac: `⌘ + Enter`)

**Nota**: Solo puedes dejar un feedback por semana por estudiante. Si ya existe un feedback, se actualizará el existente.

**Atajo para guardar feedback**: `Ctrl + Enter` (Mac: `⌘ + Enter`)  
**Atajo para cerrar panel**: `Ctrl + .` (Mac: `⌘ + .`)

### Ver Feedback Anterior

En el panel de feedback puedes ver feedbacks anteriores del mismo estudiante o de otros profesores (si hay más de uno trabajando con ese estudiante).

## Calendario

El **Calendario** te permite ver todas las sesiones y eventos en formato calendario.

### Vistas Disponibles

- **Mes**: Vista mensual con todas las sesiones del mes
- **Semana**: Vista semanal detallada (solo desktop)
- **Lista**: Lista cronológica de todas las sesiones

**Nota**: En móvil, la vista "Semana" no está disponible y se usa automáticamente la vista "Lista".

### Filtros

Puedes filtrar el calendario por:
- **Tipo**: Eventos, Asignaciones, Sesiones, Feedback
- **Estudiante**: Selecciona uno o varios estudiantes
- **Profesor**: Filtra por profesor asignado (útil si eres admin)

### Navegación

- **Navegación por mes/semana**: Usa los botones `<`, **Hoy**, `>` en la parte superior
- **Ir a fecha específica**: Haz clic en **"Hoy"** para volver a la fecha actual

### Ver Detalle de Sesión

Haz clic en cualquier sesión del calendario para ver:
- Información del estudiante
- Pieza y plan
- Ejercicios de la sesión
- Tiempo objetivo vs tiempo real
- Calificación y notas del estudiante

## Estadísticas

En **Estadísticas** puedes ver métricas detalladas del progreso de tus estudiantes.

### Vista por Estudiante

1. Selecciona un estudiante del selector en la parte superior
2. Verás diferentes pestañas con información:
   - **Resumen**: KPIs principales (tiempo total, sesiones completadas, etc.)
   - **Progreso**: Evolución temporal de la práctica
   - **Tipos de bloques**: Análisis por tipo de ejercicio
   - **Top ejercicios**: Ejercicios más practicados
   - **Autoevaluaciones**: Historial de valoraciones del estudiante
   - **Feedback**: Todos los feedbacks que le has dado

### Vista Comparativa (Solo Admin)

Si eres admin, también puedes ver una vista comparativa de todos los estudiantes para comparar métricas entre ellos.

### Filtrar por Período

Usa los filtros de fecha en la parte superior para ver estadísticas de un período específico.

## Plantillas

La página **Plantillas** te permite gestionar:
- **Piezas**: Piezas musicales con sus elementos (secciones, movimientos, etc.)
- **Ejercicios/Bloques**: Ejercicios individuales que luego usarás en planes
- **Planes**: Planes de estudio completos con semanas y sesiones estructuradas

### Crear Nueva Pieza

1. Ve a **Plantillas** → Pestaña **"Piezas"**
2. Haz clic en **"Nueva pieza"** o presiona `Ctrl + N` (Mac: `⌘ + N`)
3. Completa el formulario:
   - **Nombre**: Nombre de la pieza
   - **Descripción**: Descripción opcional
   - **Nivel**: Principiante, Intermedio, Avanzado
   - **Tiempo objetivo**: Duración objetivo en minutos
   - **Elementos**: Añade secciones/movimientos con enlaces multimedia

### Crear Nuevo Ejercicio/Bloque

1. Ve a **Plantillas** → Pestaña **"Ejercicios"**
2. Haz clic en **"Nuevo ejercicio"** o presiona `Ctrl + N` (Mac: `⌘ + N`)
3. Completa el formulario:
   - **Nombre**: Nombre del ejercicio
   - **Código**: Código único (ej: CA-0001, CB-0002, etc.)
   - **Tipo**: CA, CB, TC, TM, FM, VC, AD
   - **Duración**: Tiempo estimado en segundos
   - **Instrucciones**: Cómo realizar el ejercicio
   - **Indicador de logro**: Qué se busca conseguir
   - **Materiales requeridos**: Lista de materiales
   - **Enlaces multimedia**: Audios, videos o PDFs relacionados

### Crear Nuevo Plan

1. Ve a **Plantillas** → Pestaña **"Planes"**
2. Haz clic en **"Nuevo plan"** o presiona `Ctrl + N` (Mac: `⌘ + N`)
3. Completa el formulario:
   - **Nombre**: Nombre del plan
   - **Pieza**: Selecciona la pieza asociada
   - **Foco general**: GEN, LIG, RIT, ART, S&A
   - **Semanas**: Añade semanas y sesiones con sus ejercicios

**Nota**: Los planes tienen una estructura anidada: Plan → Semanas → Sesiones → Ejercicios/Rondas.

## Importar/Exportar

### Exportar Plantillas

1. Ve a **Importar/Exportar** → Sección **"Exportar"**
2. Selecciona qué quieres exportar:
   - **Piezas**: Exporta todas las piezas como JSON
   - **Ejercicios**: Exporta todos los ejercicios como JSON
   - **Planes**: Exporta todos los planes como JSON
3. El archivo JSON se descargará automáticamente

### Importar Plantillas

1. Ve a **Importar/Exportar** → Sección **"Importar"**
2. Selecciona el tipo de plantilla (Piezas, Ejercicios o Planes)
3. Haz clic en **"Seleccionar archivo"** y elige el archivo JSON
4. Haz clic en **"Subir JSON"**
5. Las plantillas se importarán al sistema

**Importante**: 
- Los archivos JSON contienen plantillas (piezas, ejercicios, planes) que puedes reutilizar
- Los IDs se preservan, así que si importas un plan que ya existe, puede sobrescribirse
- Usa códigos únicos (`code`) para identificar ejercicios de forma segura

## Atajos de Teclado

Studia incluye atajos de teclado para hacer tu experiencia más rápida y eficiente.

### Atajos Globales

| Función | Windows/Linux | Mac |
|---------|---------------|-----|
| Abrir/cerrar menú lateral | `Ctrl + M` | `⌘ + M` |
| Alternar tema claro/oscuro | `Ctrl + Shift + D` | `⌘ + ⇧ + D` |
| Mostrar panel de atajos | `Ctrl + /` o `?` | `⌘ + /` o `?` |
| Ir a Asignaciones | `Ctrl + Alt + A` | `⌘ + ⌥ + A` |
| Ir a Agenda | `Ctrl + Alt + G` | `⌘ + ⌥ + G` |
| Ir a Plantillas | `Ctrl + Alt + P` | `⌘ + ⌥ + P` |
| Ir a Estadísticas | `Ctrl + Alt + E` | `⌘ + ⌥ + E` |
| Ir a Calendario | `Ctrl + Alt + C` | `⌘ + ⌥ + C` |

### Crear Nuevos Elementos

| Función | Windows/Linux | Mac |
|---------|---------------|-----|
| Crear nuevo elemento (contextual) | `Ctrl + N` | `⌘ + N` |

**Nota**: El atajo `Ctrl + N` / `⌘ + N` es contextual:
- En **Asignaciones**: Crea una nueva asignación
- En **Plantillas**: Crea una nueva pieza/ejercicio/plan según la pestaña activa
- En **Agenda**: No aplica

### Atajos en Feedback

| Función | Windows/Linux | Mac |
|---------|---------------|-----|
| Guardar feedback | `Ctrl + Enter` | `⌘ + Enter` |
| Cerrar panel de feedback | `Ctrl + .` | `⌘ + .` |

**Nota**: Los atajos **NO** se activan cuando estás escribiendo en un campo de texto. Para más detalles, consulta [HOTKEYS.md](HOTKEYS.md).

## Preguntas Frecuentes

### ¿Puedo crear asignaciones para cualquier estudiante?

Sí, todos los profesores pueden ver y crear asignaciones para cualquier estudiante en el sistema.

### ¿Puedo editar una asignación después de publicarla?

Sí, puedes editar cualquier asignación en cualquier momento. Sin embargo, si el estudiante ya ha comenzado a practicar, ten cuidado al cambiar ejercicios o semanas, ya que puede afectar su progreso.

### ¿Puedo dar feedback a estudiantes que no tienen asignación activa?

Sí, puedes dar feedback semanal a cualquier estudiante, incluso si no tiene una asignación activa en ese momento.

### ¿Cuántos feedbacks puedo dejar por semana?

Solo puedes dejar un feedback por semana por estudiante. Si ya existe un feedback para esa semana, se actualizará el existente.

### ¿Puedo ver feedbacks de otros profesores?

Sí, si un estudiante tiene varios profesores trabajando con él, puedes ver todos los feedbacks en el panel de feedback semanal.

### ¿Qué pasa si cambio un plan que ya está asignado?

Si editas un plan que ya está siendo usado por asignaciones, los cambios no afectarán a las asignaciones ya publicadas (que tienen un snapshot del plan). Solo afectarán a nuevas asignaciones que uses ese plan.

