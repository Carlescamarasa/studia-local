# Manual del Profesor - Studia

Guía completa para profesores sobre cómo usar la aplicación Studia.

## Introducción

Studia es una aplicación web diseñada para ayudar a profesores a gestionar el estudio musical de sus estudiantes. Te permite crear asignaciones, revisar el progreso de tus estudiantes y proporcionar feedback semanal.

## Acceso a la Aplicación

### Iniciar Sesión

1. Accede a la URL de la aplicación (proporcionada por el administrador)
2. Introduce tu email y contraseña
3. Haz clic en "Iniciar sesión"

### Recuperar Contraseña

Si olvidaste tu contraseña:

1. Haz clic en "¿Olvidaste tu contraseña?" en la página de login
2. Introduce tu email
3. Recibirás un enlace para restablecer tu contraseña por correo electrónico

### Cambiar Contraseña

Para cambiar tu contraseña una vez dentro de la aplicación:

1. Haz clic en tu nombre/avatar en el menú lateral (parte inferior)
2. Se abrirá el panel de perfil
3. En la sección "Contraseña", haz clic en "Enviar enlace de cambio de contraseña"
4. Recibirás un correo con un enlace para establecer una nueva contraseña

## Asignaciones

La página **Asignaciones** es tu punto central para gestionar todas las asignaciones de tus estudiantes.

### Vista General

En la parte superior verás:
- **Selector de semana**: Navega entre semanas usando los botones `<`, **Hoy**, `>`
- **Barra de búsqueda**: Busca asignaciones por nombre de pieza, plan o estudiante
- **Filtros**: Filtra por estado (Todos, Borrador, Publicada, Archivada) y profesores

### Crear Nueva Asignación

1. Haz clic en el botón **"Nueva asignación"** o presiona `Ctrl + N` (Mac: `⌘ + N`)
2. Se abrirá un formulario donde deberás completar:
   - **Estudiante**: Selecciona el estudiante al que vas a asignar la práctica
   - **Pieza**: Selecciona la pieza musical
   - **Plan**: Selecciona el plan de estudio asociado a la pieza
   - **Semana de inicio**: Selecciona la fecha de inicio (debe ser un lunes)
   - **Foco**: Selecciona el foco principal (GEN, LIG, RIT, ART, S&A)
   - **Notas**: Añade notas opcionales para el estudiante
3. Haz clic en **"Crear asignación"**

**Nota**: La asignación se crea en estado "Borrador" por defecto. Debes publicarla para que el estudiante la vea.

### Estados de Asignación

Las asignaciones pueden estar en tres estados:

- **Borrador**: Solo visible para profesores. El estudiante no la ve aún
- **Publicada**: Visible para el estudiante. Puede comenzar a practicar
- **Archivada**: Ya no visible para el estudiante. Mantiene el historial

### Publicar una Asignación

1. Localiza la asignación que quieres publicar
2. Haz clic en el menú de acciones (⋮) junto a la asignación
3. Selecciona "Publicar" o "Editar" y cambia el estado a "Publicada"

### Filtrar Asignaciones

Puedes filtrar asignaciones por:

- **Estado**: Todos, Borrador, Publicada, Archivada
- **Profesor**: Filtra por profesor asignado (útil si eres admin y ves asignaciones de otros profesores)
- **Semana**: Usa el selector de semana en la parte superior
- **Búsqueda**: Escribe en el campo de búsqueda para filtrar por nombre de pieza, plan o estudiante

### Ver Detalle de Asignación

Haz clic en cualquier asignación para ver sus detalles completos:
- Información del estudiante
- Pieza y plan asignados
- Semanas del plan con indicador de progreso
- Estado actual
- Sesiones completadas y pendientes

### Editar o Eliminar Asignación

1. Haz clic en el menú de acciones (⋮) junto a la asignación
2. Selecciona "Editar" o "Eliminar"
3. Confirma la acción si es necesario

## Agenda Semanal

La página **Agenda** te permite ver el progreso de tus estudiantes semana por semana.

### Vista por Semana

1. Usa el selector de semana en la parte superior para navegar entre semanas
2. Verás una lista de todos tus estudiantes con:
   - **Asignación activa**: Si el estudiante tiene una asignación activa para esa semana
   - **Semana actual del plan**: Indica en qué semana del plan se encuentra (ej: "Semana 3 de 8")
   - **Plan asignado**: Nombre del plan que está siguiendo
   - **Sesiones completadas**: Indicador de qué sesiones ha completado

### Búsqueda de Estudiantes

Usa la barra de búsqueda en la parte superior para filtrar estudiantes por nombre o email.

### Ver Detalle del Estudiante

Haz clic en un estudiante para expandir su información y ver:
- **Asignación activa**: Detalle completo de la asignación actual
- **Sesiones de la semana**: Lista de todas las sesiones programadas para esa semana
- **Estado de cada sesión**: Si está completada, pendiente o en progreso
- **Feedback previo**: Feedback que le has dado en semanas anteriores

### Dar Feedback Semanal

Para proporcionar feedback semanal a un estudiante:

1. Navega a la semana correspondiente usando el selector de semana
2. Localiza el estudiante en la lista
3. Haz clic en el botón **"Ver feedback"** o en el icono de mensaje junto al estudiante
4. Se abrirá un panel lateral donde puedes:
   - **Escribir observaciones**: Comentarios sobre el progreso del estudiante
   - **Añadir enlaces multimedia**: Enlaces a audios, videos o PDFs (ej: grabaciones del estudiante, material de referencia)
5. Haz clic en **"Guardar feedback"** o presiona `Ctrl + Enter` (Mac: `⌘ + Enter`)

**Nota**: Solo puedes dejar un feedback por semana por estudiante. Si ya existe un feedback, se actualizará el existente.

**Atajo para guardar feedback**: `Ctrl + Enter` (Mac: `⌘ + Enter`)  
**Atajo para cerrar panel**: `Ctrl + .` (Mac: `⌘ + .`)

### Ver Feedback Anterior

En el panel de feedback puedes ver feedbacks anteriores del mismo estudiante o de otros profesores (si hay más de uno trabajando con ese estudiante).

## Calendario

El **Calendario** te permite ver todas las sesiones y eventos en formato calendario.

### Vistas Disponibles

- **Mes**: Vista mensual con todas las sesiones del mes
- **Semana**: Vista semanal detallada (solo desktop)
- **Lista**: Lista cronológica de todas las sesiones

**Nota**: En móvil, la vista "Semana" no está disponible y se usa automáticamente la vista "Lista".

### Filtros

Puedes filtrar el calendario por:
- **Tipo**: Eventos, Asignaciones, Sesiones, Feedback
- **Estudiante**: Selecciona uno o varios estudiantes
- **Profesor**: Filtra por profesor asignado (útil si eres admin)

### Navegación

- **Navegación por mes/semana**: Usa los botones `<`, **Hoy**, `>` en la parte superior
- **Ir a fecha específica**: Haz clic en **"Hoy"** para volver a la fecha actual

### Ver Detalle de Sesión

Haz clic en cualquier sesión del calendario para ver:
- Información del estudiante
- Pieza y plan
- Ejercicios de la sesión
- Tiempo objetivo vs tiempo real
- Calificación y notas del estudiante

## Estadísticas

En **Estadísticas** puedes ver métricas detalladas del progreso de tus estudiantes.

### Vista por Estudiante

1. Selecciona un estudiante del selector en la parte superior
2. Verás diferentes pestañas con información:
   - **Resumen**: KPIs principales (tiempo total, sesiones completadas, etc.)
   - **Progreso**: Evolución temporal de la práctica con gráficos
   - **Tipos de bloques**: Análisis por tipo de ejercicio (CA, CB, TC, etc.)
   - **Top ejercicios**: Ejercicios más practicados
   - **Autoevaluaciones**: Historial de valoraciones del estudiante (1-4)
   - **Feedback**: Todos los feedbacks que le has dado

### Filtrar Estadísticas

Puedes filtrar las estadísticas de varias formas:

#### Por Período
- **Presets rápidos**: Últimas 4 semanas, último mes, últimos 3 meses, etc.
- **Rango personalizado**: Selecciona una fecha de inicio y fin específica
- Los filtros se aplican a todas las pestañas

#### Por Estudiantes (Solo Profesor)
- Selecciona uno o varios estudiantes del selector
- Si no seleccionas ninguno, verás estadísticas agregadas de todos tus estudiantes

#### Por Focos
- Filtra por tipo de foco: GEN, LIG, RIT, ART, S&A
- Útil para analizar el progreso en áreas específicas

#### Por Calificación
- Filtra sesiones por la autoevaluación del estudiante (1-4)
- Útil para identificar sesiones que fueron muy difíciles o muy fáciles

### Vista Comparativa (Solo Admin)

Si eres admin, también puedes ver una vista comparativa de todos los estudiantes:
1. Ve a **Estadísticas**
2. Haz clic en la pestaña **"Comparativa"** (si está disponible)
3. Verás una tabla comparando métricas entre estudiantes:
   - Tiempo total
   - Sesiones completadas
   - Promedio de calificación
   - Otros KPIs relevantes

**Nota**: Esta vista solo está disponible para administradores. Los profesores solo pueden ver estadísticas de sus propios estudiantes.

### Interpretar los Gráficos

- **Gráficos de línea**: Muestran la evolución temporal (tiempo, sesiones, etc.)
- **Gráficos circulares**: Muestran distribución (tipos de ejercicios, calificaciones)
- **Gráficos de barras**: Comparan valores (ejercicios más practicados, etc.)
- **Heatmap**: Muestra actividad día a día (más oscuro = más tiempo)
- Pasa el cursor sobre los elementos para ver valores exactos

## Plantillas

La página **Plantillas** te permite gestionar:
- **Piezas**: Piezas musicales con sus elementos (secciones, movimientos, etc.)
- **Ejercicios/Bloques**: Ejercicios individuales que luego usarás en planes
- **Planes**: Planes de estudio completos con semanas y sesiones estructuradas

### Crear Nueva Pieza

1. Ve a **Plantillas** → Pestaña **"Piezas"**
2. Haz clic en **"Nueva pieza"** o presiona `Ctrl + N` (Mac: `⌘ + N`)
3. Completa el formulario:
   - **Nombre**: Nombre de la pieza
   - **Descripción**: Descripción opcional
   - **Nivel**: Principiante, Intermedio, Avanzado
   - **Tiempo objetivo**: Duración objetivo en minutos
   - **Elementos**: Añade secciones/movimientos con enlaces multimedia

### Crear Nuevo Ejercicio/Bloque

1. Ve a **Plantillas** → Pestaña **"Ejercicios"**
2. Haz clic en **"Nuevo ejercicio"** o presiona `Ctrl + N` (Mac: `⌘ + N`)
3. Completa el formulario:
   - **Nombre**: Nombre del ejercicio
   - **Código**: Código único (ej: CA-0001, CB-0002, etc.)
   - **Tipo**: CA, CB, TC, TM, FM, VC, AD
   - **Duración**: Tiempo estimado en segundos
   - **Instrucciones**: Cómo realizar el ejercicio
   - **Indicador de logro**: Qué se busca conseguir
   - **Materiales requeridos**: Lista de materiales
   - **Enlaces multimedia**: Audios, videos o PDFs relacionados

### Crear Nuevo Plan

1. Ve a **Plantillas** → Pestaña **"Planes"**
2. Haz clic en **"Nuevo plan"** o presiona `Ctrl + N` (Mac: `⌘ + N`)
3. Completa el formulario:
   - **Nombre**: Nombre del plan
   - **Pieza**: Selecciona la pieza asociada
   - **Foco general**: GEN, LIG, RIT, ART, S&A
   - **Semanas**: Añade semanas y sesiones con sus ejercicios

**Nota**: Los planes tienen una estructura anidada: Plan → Semanas → Sesiones → Ejercicios/Rondas.

## Centro de Dudas (Tickets de Alumnos)

La página **Tickets de alumnos** (también llamada "Centro de dudas") te permite gestionar las consultas y dudas de tus estudiantes.

### Vista General

En la parte superior verás:
- **Barra de búsqueda**: Busca tickets por título o nombre del alumno
- **Filtros**: Filtra por estado (Todos, Abiertos, En proceso, Cerrados) y por profesor asignado

### Filtrar Tickets

Puedes filtrar los tickets de varias formas:

#### Por Estado
- **Todos**: Muestra todos los tickets sin filtrar
- **Abiertos**: Solo tickets que están activos y esperando respuesta
- **En proceso**: Tickets en los que estás trabajando
- **Cerrados**: Tickets que ya han sido resueltos

#### Por Profesor Asignado
- **Mis tickets**: Solo tickets asignados a ti (por defecto)
- **Todos**: Todos los tickets del sistema (útil si eres admin o si hay varios profesores trabajando con los mismos estudiantes)

**Nota**: Si eres admin, verás todos los tickets del sistema. Si eres profesor, por defecto verás solo los tickets asignados a ti, pero puedes cambiar el filtro para ver todos.

### Ver y Responder Tickets

1. En la lista de tickets, haz clic en cualquier ticket para ver la conversación completa
2. Verás:
   - **Título del ticket**: El asunto de la consulta
   - **Estado**: Abierto, En proceso o Cerrado
   - **Tipo**: Duda general, Problema técnico, Sugerencia, Otro
   - **Alumno**: Nombre del estudiante que creó el ticket
   - **Historial de mensajes**: Toda la conversación entre el alumno y tú
3. Para responder:
   - Escribe tu mensaje en el campo de texto
   - (Opcional) Adjunta un video haciendo clic en "Adjuntar vídeo" o arrastrando un archivo
   - Haz clic en **"Enviar"**

### Adjuntar Videos en Respuestas

Puedes adjuntar videos a tus respuestas para explicar mejor o mostrar ejemplos:

1. En el campo de respuesta, haz clic en **"Adjuntar vídeo"** o arrastra un archivo de video
2. El video se subirá automáticamente a YouTube (privado, solo visible para el alumno)
3. Una vez subido, aparecerá como enlace en tu mensaje
4. Haz clic en **"Enviar"** para enviar el mensaje con el video adjunto

**Nota**: La subida de videos puede tardar unos momentos. No cierres la página mientras se sube.

### Cambiar Estado de Tickets

Puedes cambiar el estado de un ticket para indicar su progreso:

- **Abierto**: El ticket está activo y esperando respuesta
- **En proceso**: Estás trabajando en resolver la consulta
- **Cerrado**: El ticket ha sido resuelto

Para cambiar el estado:
1. Abre el ticket
2. Haz clic en el botón de estado actual (junto al título)
3. Selecciona el nuevo estado

**Consejo**: Cambia el estado a "En proceso" cuando empieces a trabajar en un ticket, y a "Cerrado" cuando lo hayas resuelto completamente.

### Ver Enlaces Multimedia

Los tickets pueden contener enlaces multimedia (videos, audios, PDFs) tanto del alumno como tuyos:
- Haz clic en cualquier enlace para verlo o descargarlo
- Los videos se abren en YouTube
- Los PDFs se descargan o abren en el navegador

## Importar/Exportar

### Exportar Plantillas

1. Ve a **Importar/Exportar** → Sección **"Exportar"**
2. Selecciona qué quieres exportar:
   - **Piezas**: Exporta todas las piezas como JSON
   - **Ejercicios**: Exporta todos los ejercicios como JSON
   - **Planes**: Exporta todos los planes como JSON
3. El archivo JSON se descargará automáticamente

### Importar Plantillas

1. Ve a **Importar/Exportar** → Sección **"Importar"**
2. Selecciona el tipo de plantilla (Piezas, Ejercicios o Planes)
3. Haz clic en **"Seleccionar archivo"** y elige el archivo JSON
4. Haz clic en **"Subir JSON"**
5. Las plantillas se importarán al sistema

**Importante**: 
- Los archivos JSON contienen plantillas (piezas, ejercicios, planes) que puedes reutilizar
- Los IDs se preservan, así que si importas un plan que ya existe, puede sobrescribirse
- Usa códigos únicos (`code`) para identificar ejercicios de forma segura

## Atajos de Teclado

Studia incluye atajos de teclado para hacer tu experiencia más rápida y eficiente.

### Atajos Globales

| Función | Windows/Linux | Mac |
|---------|---------------|-----|
| Abrir/cerrar menú lateral | `Ctrl + M` | `⌘ + M` |
| Alternar tema claro/oscuro | `Ctrl + Shift + D` | `⌘ + ⇧ + D` |
| Mostrar panel de atajos | `Ctrl + /` o `?` | `⌘ + /` o `?` |
| Ir a Asignaciones | `Ctrl + Alt + A` | `⌘ + ⌥ + A` |
| Ir a Agenda | `Ctrl + Alt + G` | `⌘ + ⌥ + G` |
| Ir a Plantillas | `Ctrl + Alt + P` | `⌘ + ⌥ + P` |
| Ir a Estadísticas | `Ctrl + Alt + E` | `⌘ + ⌥ + E` |
| Ir a Calendario | `Ctrl + Alt + C` | `⌘ + ⌥ + C` |

### Crear Nuevos Elementos

| Función | Windows/Linux | Mac |
|---------|---------------|-----|
| Crear nuevo elemento (contextual) | `Ctrl + N` | `⌘ + N` |

**Nota**: El atajo `Ctrl + N` / `⌘ + N` es contextual:
- En **Asignaciones**: Crea una nueva asignación
- En **Plantillas**: Crea una nueva pieza/ejercicio/plan según la pestaña activa
- En **Agenda**: No aplica

### Atajos en Feedback

| Función | Windows/Linux | Mac |
|---------|---------------|-----|
| Guardar feedback | `Ctrl + Enter` | `⌘ + Enter` |
| Cerrar panel de feedback | `Ctrl + .` | `⌘ + .` |

**Nota**: Los atajos **NO** se activan cuando estás escribiendo en un campo de texto. Para más detalles, consulta [HOTKEYS.md](HOTKEYS.md).

## Preguntas Frecuentes

### ¿Puedo crear asignaciones para cualquier estudiante?

Sí, todos los profesores pueden ver y crear asignaciones para cualquier estudiante en el sistema.

### ¿Puedo editar una asignación después de publicarla?

Sí, puedes editar cualquier asignación en cualquier momento. Sin embargo, si el estudiante ya ha comenzado a practicar, ten cuidado al cambiar ejercicios o semanas, ya que puede afectar su progreso.

### ¿Puedo dar feedback a estudiantes que no tienen asignación activa?

Sí, puedes dar feedback semanal a cualquier estudiante, incluso si no tiene una asignación activa en ese momento.

### ¿Cuántos feedbacks puedo dejar por semana?

Solo puedes dejar un feedback por semana por estudiante. Si ya existe un feedback para esa semana, se actualizará el existente.

### ¿Puedo ver feedbacks de otros profesores?

Sí, si un estudiante tiene varios profesores trabajando con él, puedes ver todos los feedbacks en el panel de feedback semanal.

### ¿Qué pasa si cambio un plan que ya está asignado?

Si editas un plan que ya está siendo usado por asignaciones, los cambios no afectarán a las asignaciones ya publicadas (que tienen un snapshot del plan). Solo afectarán a nuevas asignaciones que uses ese plan.

### ¿Cuál es la diferencia entre ser Profesor y Administrador?

**Profesor (PROF)**:
- Puede crear y gestionar asignaciones para cualquier estudiante
- Puede ver estadísticas de todos los estudiantes (no solo los asignados)
- Puede dar feedback semanal a cualquier estudiante
- Puede gestionar tickets de estudiantes
- Puede crear y editar plantillas (piezas, ejercicios, planes)
- **NO** puede gestionar usuarios (crear, editar roles, activar/desactivar)
- **NO** puede acceder al Panel de Diseño
- **NO** puede acceder a Tests & Seeds

**Administrador (ADMIN)**:
- Tiene todas las capacidades de Profesor, **más**:
- Puede gestionar usuarios (crear, editar, cambiar roles, activar/desactivar)
- Puede acceder al Panel de Diseño para personalizar la apariencia de la aplicación
- Puede acceder a Tests & Seeds para generar datos de prueba
- Puede ver estadísticas comparativas de todos los estudiantes
- Puede ver todos los tickets del sistema (no solo los asignados a él)

